<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rebate Optimizer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar: Configuration -->
        <aside class="sidebar">
            <div class="logo">
                <h1>Rebate<span>Sim</span></h1>
            </div>

            <div class="config-section">
                <h2>Optimization Settings</h2>

                <div class="control-group">
                    <label for="elasticity">Revenue Elasticity</label>
                    <input type="range" id="elasticity" min="0.1" max="5.0" step="0.1" value="2.0">
                    <span id="elasticity-val">2.0</span>
                    <p class="help-text">Higher elasticity = Rebates drive more growth.</p>
                </div>

                <div class="control-group">
                    <label>Volume Thresholds</label>
                    <div class="help-text">Enter comma-separated values (e.g., 5000, 15000, 30000, 50000)</div>
                    <input type="text" id="vol-bins-input" class="text-input" value="5000, 15000, 30000, 50000">
                </div>

                <div class="control-group">
                    <label>Growth Thresholds</label>
                    <div class="help-text">Enter comma-separated decimals (e.g., 0.08, 0.15, 0.20)</div>
                    <input type="text" id="growth-bins-input" class="text-input" value="0.08, 0.15, 0.20">
                </div>

                <button id="run-btn" class="primary-btn">Run Optimization</button>
            </div>
        </aside>

        <!-- Main Content: Results -->
        <main class="main-content">
            <header>
                <h2>Simulation Results</h2>
                <div class="status" id="status-indicator">Ready</div>
            </header>

            <!-- KPI Cards -->
            <div class="kpi-grid">
                <div class="card kpi-card">
                    <h3>Projected Revenue</h3>
                    <div class="value" id="max-revenue">$0</div>
                    <div class="subtext">Optimized Scenario</div>
                </div>
                <div class="card kpi-card">
                    <h3>Baseline Revenue</h3>
                    <div class="value" id="baseline-revenue">$0</div>
                    <div class="subtext">Current State</div>
                </div>
                <div class="card kpi-card highlight">
                    <h3>Revenue Uplift</h3>
                    <div class="value" id="revenue-uplift">$0</div>
                    <div class="subtext">Net Gain</div>
                </div>
            </div>

            <!-- Rebate Grid -->
            <div class="card grid-card">
                <h3>Optimized Rebate Grid</h3>
                <div class="table-wrapper">
                    <table id="results-table">
                        <thead>
                            <!-- Injected by JS -->
                        </thead>
                        <tbody>
                            <!-- Injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>

</html>